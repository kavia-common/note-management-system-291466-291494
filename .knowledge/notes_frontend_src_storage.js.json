{"is_source_file": true, "format": "JavaScript", "description": "This file defines a storage module for a notes application, providing functions for initializing storage (with IndexedDB or localStorage fallback), as well as CRUD operations (create, read, update, delete), filtering, and sorting notes. It implements a public interface for external modules to interact with note data.", "external_files": ["indexedDB API (built-in browser API)", "localStorage API (built-in browser API)"], "external_methods": ["openDB", "getAllIndexed", "getIndexed", "putIndexed", "deleteIndexed"], "published": ["initStorage", "listNotes", "getNote", "createNote", "updateNote", "deleteNote", "filterNotes", "sortNotesByUpdated"], "classes": [], "methods": [{"name": "initStorage()", "description": "Initializes the storage system, attempting to open or create an IndexedDB database, and falling back to localStorage if necessary. Also seeds initial sample data if storage is empty.", "scope": "", "scopeKind": ""}, {"name": "listNotes(ctx)", "description": "Returns all notes, sorted by updatedAt in descending order. Uses IndexedDB or localStorage based on context.", "scope": "", "scopeKind": ""}, {"name": "getNote(ctx, id)", "description": "Retrieves a specific note by its ID. Returns null if not found.", "scope": "", "scopeKind": ""}, {"name": "createNote(ctx)", "description": "Creates a new blank note with default title and timestamp, saving it to the storage, and returns the created note.", "scope": "", "scopeKind": ""}, {"name": "updateNote(ctx, id, updates)", "description": "Updates specified fields of an existing note by its ID, and returns the updated note.", "scope": "", "scopeKind": ""}, {"name": "deleteNote(ctx, id)", "description": "Removes a note by its ID from storage.", "scope": "", "scopeKind": ""}, {"name": "filterNotes(notes, query)", "description": "Filters a list of notes based on a case-insensitive substring match in title or content.", "scope": "", "scopeKind": ""}, {"name": "sortNotesByUpdated(notes)", "description": "Sorts a list of notes by the 'updatedAt' timestamp in descending order.", "scope": "", "scopeKind": ""}, {"name": "deleteIndexed(db, store, key)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "getAllIndexed(db, store)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "getIndexed(db, store, key)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "openDB(name, version, onUpgrade)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "putIndexed(db, store, value)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "readLS(key)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "seedSample()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "tx(db, store, mode = 'readonly')", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "writeLS(key, data)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["openDB", "getAllIndexed", "getIndexed", "putIndexed", "deleteIndexed", "readLS", "writeLS"], "search-terms": ["storage module", "notes CRUD", "IndexedDB fallback", "localStorage", "note initialization", "notes filtering", "notes sorting"], "state": 2, "file_id": 13, "knowledge_revision": 27, "git_revision": "", "ctags": [{"_type": "tag", "name": "content", "path": "/home/kavia/workspace/code-generation/note-management-system-291466-291494/notes_frontend/src/storage.js", "pattern": "/^    content: '',$/", "language": "JavaScript", "kind": "property", "scope": "createNote.note", "scopeKind": "class"}, {"_type": "tag", "name": "createNote", "path": "/home/kavia/workspace/code-generation/note-management-system-291466-291494/notes_frontend/src/storage.js", "pattern": "/^export async function createNote(ctx) {$/", "language": "JavaScript", "kind": "function", "signature": "(ctx)"}, {"_type": "tag", "name": "createdAt", "path": "/home/kavia/workspace/code-generation/note-management-system-291466-291494/notes_frontend/src/storage.js", "pattern": "/^    createdAt: Date.now(),$/", "language": "JavaScript", "kind": "property", "scope": "createNote.note", "scopeKind": "class"}, {"_type": "tag", "name": "deleteIndexed", "path": "/home/kavia/workspace/code-generation/note-management-system-291466-291494/notes_frontend/src/storage.js", "pattern": "/^function deleteIndexed(db, store, key) {$/", "language": "JavaScript", "kind": "function", "signature": "(db, store, key)"}, {"_type": "tag", "name": "deleteNote", "path": "/home/kavia/workspace/code-generation/note-management-system-291466-291494/notes_frontend/src/storage.js", "pattern": "/^export async function deleteNote(ctx, id) {$/", "language": "JavaScript", "kind": "function", "signature": "(ctx, id)"}, {"_type": "tag", "name": "filterNotes", "path": "/home/kavia/workspace/code-generation/note-management-system-291466-291494/notes_frontend/src/storage.js", "pattern": "/^export function filterNotes(notes, query) {$/", "language": "JavaScript", "kind": "function", "signature": "(notes, query)"}, {"_type": "tag", "name": "getAllIndexed", "path": "/home/kavia/workspace/code-generation/note-management-system-291466-291494/notes_frontend/src/storage.js", "pattern": "/^function getAllIndexed(db, store) {$/", "language": "JavaScript", "kind": "function", "signature": "(db, store)"}, {"_type": "tag", "name": "getIndexed", "path": "/home/kavia/workspace/code-generation/note-management-system-291466-291494/notes_frontend/src/storage.js", "pattern": "/^function getIndexed(db, store, key) {$/", "language": "JavaScript", "kind": "function", "signature": "(db, store, key)"}, {"_type": "tag", "name": "getNote", "path": "/home/kavia/workspace/code-generation/note-management-system-291466-291494/notes_frontend/src/storage.js", "pattern": "/^export async function getNote(ctx, id) {$/", "language": "JavaScript", "kind": "function", "signature": "(ctx, id)"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/note-management-system-291466-291494/notes_frontend/src/storage.js", "pattern": "/^    id: `note_${Date.now()}_${Math.random().toString(36).slice(2, 8)}`,$/", "language": "JavaScript", "kind": "property", "scope": "createNote.note", "scopeKind": "class"}, {"_type": "tag", "name": "initStorage", "path": "/home/kavia/workspace/code-generation/note-management-system-291466-291494/notes_frontend/src/storage.js", "pattern": "/^export async function initStorage() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "listNotes", "path": "/home/kavia/workspace/code-generation/note-management-system-291466-291494/notes_frontend/src/storage.js", "pattern": "/^export async function listNotes(ctx) {$/", "language": "JavaScript", "kind": "function", "signature": "(ctx)"}, {"_type": "tag", "name": "note", "path": "/home/kavia/workspace/code-generation/note-management-system-291466-291494/notes_frontend/src/storage.js", "pattern": "/^  const note = {$/", "language": "JavaScript", "kind": "class", "scope": "createNote", "scopeKind": "class"}, {"_type": "tag", "name": "openDB", "path": "/home/kavia/workspace/code-generation/note-management-system-291466-291494/notes_frontend/src/storage.js", "pattern": "/^function openDB(name, version, onUpgrade) {$/", "language": "JavaScript", "kind": "function", "signature": "(name, version, onUpgrade)"}, {"_type": "tag", "name": "putIndexed", "path": "/home/kavia/workspace/code-generation/note-management-system-291466-291494/notes_frontend/src/storage.js", "pattern": "/^function putIndexed(db, store, value) {$/", "language": "JavaScript", "kind": "function", "signature": "(db, store, value)"}, {"_type": "tag", "name": "readLS", "path": "/home/kavia/workspace/code-generation/note-management-system-291466-291494/notes_frontend/src/storage.js", "pattern": "/^function readLS(key) {$/", "language": "JavaScript", "kind": "function", "signature": "(key)"}, {"_type": "tag", "name": "seedSample", "path": "/home/kavia/workspace/code-generation/note-management-system-291466-291494/notes_frontend/src/storage.js", "pattern": "/^function seedSample() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "sortNotesByUpdated", "path": "/home/kavia/workspace/code-generation/note-management-system-291466-291494/notes_frontend/src/storage.js", "pattern": "/^export function sortNotesByUpdated(notes) {$/", "language": "JavaScript", "kind": "function", "signature": "(notes)"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/note-management-system-291466-291494/notes_frontend/src/storage.js", "pattern": "/^    title: 'Untitled',$/", "language": "JavaScript", "kind": "property", "scope": "createNote.note", "scopeKind": "class"}, {"_type": "tag", "name": "tx", "path": "/home/kavia/workspace/code-generation/note-management-system-291466-291494/notes_frontend/src/storage.js", "pattern": "/^function tx(db, store, mode = 'readonly') {$/", "language": "JavaScript", "kind": "function", "signature": "(db, store, mode = 'readonly')"}, {"_type": "tag", "name": "updateNote", "path": "/home/kavia/workspace/code-generation/note-management-system-291466-291494/notes_frontend/src/storage.js", "pattern": "/^export async function updateNote(ctx, id, updates) {$/", "language": "JavaScript", "kind": "function", "signature": "(ctx, id, updates)"}, {"_type": "tag", "name": "updatedAt", "path": "/home/kavia/workspace/code-generation/note-management-system-291466-291494/notes_frontend/src/storage.js", "pattern": "/^    updatedAt: Date.now(),$/", "language": "JavaScript", "kind": "property", "scope": "createNote.note", "scopeKind": "class"}, {"_type": "tag", "name": "writeLS", "path": "/home/kavia/workspace/code-generation/note-management-system-291466-291494/notes_frontend/src/storage.js", "pattern": "/^function writeLS(key, data) {$/", "language": "JavaScript", "kind": "function", "signature": "(key, data)"}], "hash": "2748699609811a7e1f1f146d2467cc70", "format-version": 4, "code-base-name": "notes_frontend", "filename": "notes_frontend/src/storage.js", "fields": [{"name": "content: '',", "scope": "createNote.note", "scopeKind": "class", "description": "unavailable"}, {"name": "createdAt: Date.now(),", "scope": "createNote.note", "scopeKind": "class", "description": "unavailable"}, {"name": "id: `note_${Date.now()}_${Math.random().toString(36).slice(2, 8)}`,", "scope": "createNote.note", "scopeKind": "class", "description": "unavailable"}, {"name": "title: 'Untitled',", "scope": "createNote.note", "scopeKind": "class", "description": "unavailable"}, {"name": "updatedAt: Date.now(),", "scope": "createNote.note", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"27": ""}]}